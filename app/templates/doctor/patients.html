{% extends 'base.html' %}
{% block content %}
  <div class="minimal-card p-6">
    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
      {% if patients|length == 0 %}
        <div class="text-sm" style="color: var(--text-muted);">No active consents yet.</div>
      {% endif %}

      {% for p in patients %}
        <a class="rounded-2xl p-5 transition" style="border: 1px solid var(--border-secondary);" href="{{ url_for('doctor.patient_detail', patient_id=p.user_id) }}">
          <div class="text-sm font-semibold" style="color: var(--text-primary);">Patient #{{ p.user_id }}</div>
          <div class="text-xs mt-2" style="color: var(--text-muted);">Blood group: {{ p.blood_group or 'Not set' }}</div>
          <div class="text-xs mt-1" style="color: var(--text-muted);">Allergies: {{ p.allergies or 'Not set' }}</div>
        </a>
      {% endfor %}
    </div>
  </div>
{% endblock %}
